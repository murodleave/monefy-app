<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.thymeleaf.org">
<head layout:fragment="head(title)">
    <title>Операции – Monefy</title>
</head>
<body layout:decorate="~{fragments/layout :: head('Операции')}">
<div layout:fragment="content" class="dash-main">
    <div class="section-header">
        <h2>Операции</h2>
        <a th:href="@{/transactions/new}" class="btn-primary">Добавить операцию</a>
    </div>
    <table class="tx-table">
        <thead>
        <tr><th>Дата</th><th>Категория</th><th>Сумма</th><th>Действия</th></tr>
        </thead>
        <tbody>
        <tr th:each="tx : ${txList}">
            <td th:text="${#dates.format(tx.date,'dd.MM.yyyy')}"></td>
            <td th:text="${tx.category.name}"></td>
            <td th:text="${tx.amount} + ' ₹'"></td>
            <td>
                <form th:action="@{/transactions/{id}/delete(id=${tx.id})}" method="post">
                    <button type="submit" class="btn-link">Удалить</button>
                </form>
            </td>
        </tr>
        </tbody>
    </table>
</div>
</body>
</html>
